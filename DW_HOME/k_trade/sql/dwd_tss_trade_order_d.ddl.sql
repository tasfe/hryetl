
DROP TABLE K_TRADE.DWD_TSS_TRADE_ORDER_D;

CREATE TABLE K_TRADE.DWD_TSS_TRADE_ORDER_D
(
  TRADE_VOUCHER_NO VARCHAR2(32 BYTE) NOT NULL  PRIMARY KEY
, TRADE_SRC_VOUCHER_NO VARCHAR2(64 BYTE) NOT NULL 
, ORIG_TRADE_VOUCHER_NO VARCHAR2(32 BYTE) 
, BIZ_NO VARCHAR2(64 BYTE) 
, BIZ_PRODUCT_CODE VARCHAR2(16 BYTE) NOT NULL 
, TRADE_AMOUNT NUMBER(15, 2) NOT NULL 
, TRADE_TYPE VARCHAR2(16 BYTE) NOT NULL 
, GMT_SUBMIT TIMESTAMP(6) NOT NULL 
, BUYER_ID VARCHAR2(32 BYTE) NOT NULL 
, BUYER_NAME VARCHAR2(128 BYTE) 
, SELLER_ID VARCHAR2(32 BYTE) NOT NULL 
, SELLER_NAME VARCHAR2(128 BYTE) 
, SELLER_ACCOUNT_NO VARCHAR2(32 BYTE) NOT NULL 
, PARTNER_ID VARCHAR2(32 BYTE) NOT NULL 
, PARTNER_NAME VARCHAR2(128 BYTE) 
, ACCESS_CHANNEL VARCHAR2(16 BYTE) NOT NULL 
, EXTENSION VARCHAR2(2000 BYTE) 
, PRE_STATUS VARCHAR2(16 BYTE) 
, STATUS VARCHAR2(16 BYTE) NOT NULL 
, TRADE_MEMO VARCHAR2(256 BYTE) 
, RESULT_MEMO VARCHAR2(256 BYTE) 
, ERROR_CODE VARCHAR2(16 BYTE) 
, ERROR_MSG VARCHAR2(256 BYTE) 
, GMT_CREATE TIMESTAMP(6) DEFAULT SYSDATE NOT NULL 
, GMT_MODIFIED TIMESTAMP(6) 
, IS_NOTIFIED CHAR(1 BYTE) 
, PROD_DESC VARCHAR2(1000 BYTE) 
, PROD_SHOW_URL VARCHAR2(256 BYTE) 
, RELATED_TRADE_VOUCHER_NO VARCHAR2(32 BYTE) 
, PROCESSOR_ID VARCHAR2(64 BYTE) 
, BATCH_NO VARCHAR2(32 BYTE) 
, SUBMIT_ID VARCHAR2(32 BYTE) 
, SOURCE_BATCH_NO VARCHAR2(32 BYTE) 
, DW_CREATE_TIME DATE DEFAULT sysdate
, DW_MODIFIED_TIME DATE
) 

PARTITION BY RANGE ("GMT_SUBMIT") 
(
 PARTITION P000000 VALUES LESS THAN(TO_DATE('201401','YYYYMM'))  
,PARTITION P201401 VALUES LESS THAN(TO_DATE('201402','YYYYMM')) 
,PARTITION P201402 VALUES LESS THAN(TO_DATE('201403','YYYYMM')) 
,PARTITION P201403 VALUES LESS THAN(TO_DATE('201404','YYYYMM')) 
,PARTITION P201404 VALUES LESS THAN(TO_DATE('201405','YYYYMM')) 
,PARTITION P201405 VALUES LESS THAN(TO_DATE('201406','YYYYMM')) 
,PARTITION P201406 VALUES LESS THAN(TO_DATE('201407','YYYYMM')) 
,PARTITION P201407 VALUES LESS THAN(TO_DATE('201408','YYYYMM')) 
,PARTITION P201408 VALUES LESS THAN(TO_DATE('201409','YYYYMM')) 
,PARTITION P201409 VALUES LESS THAN(TO_DATE('201410','YYYYMM')) 
,PARTITION P201410 VALUES LESS THAN(TO_DATE('201411','YYYYMM')) 
,PARTITION P201411 VALUES LESS THAN(TO_DATE('201412','YYYYMM')) 
,PARTITION P201412 VALUES LESS THAN(TO_DATE('201501','YYYYMM')) 
,PARTITION P201501 VALUES LESS THAN(TO_DATE('201502','YYYYMM')) 
,PARTITION P201502 VALUES LESS THAN(TO_DATE('201503','YYYYMM')) 
,PARTITION P201503 VALUES LESS THAN(TO_DATE('201504','YYYYMM')) 
,PARTITION P201504 VALUES LESS THAN(TO_DATE('201505','YYYYMM')) 
,PARTITION P201505 VALUES LESS THAN(TO_DATE('201506','YYYYMM')) 
,PARTITION P201506 VALUES LESS THAN(TO_DATE('201507','YYYYMM')) 
,PARTITION P201507 VALUES LESS THAN(TO_DATE('201508','YYYYMM')) 
,PARTITION P201508 VALUES LESS THAN(TO_DATE('201509','YYYYMM')) 
,PARTITION P201509 VALUES LESS THAN(TO_DATE('201510','YYYYMM')) 
,PARTITION P201510 VALUES LESS THAN(TO_DATE('201511','YYYYMM')) 
,PARTITION P201511 VALUES LESS THAN(TO_DATE('201512','YYYYMM')) 
,PARTITION P201512 VALUES LESS THAN(TO_DATE('201601','YYYYMM')) 
,PARTITION P201601 VALUES LESS THAN(TO_DATE('201602','YYYYMM')) 
,PARTITION P201602 VALUES LESS THAN(TO_DATE('201603','YYYYMM')) 
,PARTITION P201603 VALUES LESS THAN(TO_DATE('201604','YYYYMM')) 
,PARTITION P201604 VALUES LESS THAN(TO_DATE('201605','YYYYMM')) 
,PARTITION P201605 VALUES LESS THAN(TO_DATE('201606','YYYYMM')) 
,PARTITION P201606 VALUES LESS THAN(TO_DATE('201607','YYYYMM')) 
,PARTITION P201607 VALUES LESS THAN(TO_DATE('201608','YYYYMM')) 
,PARTITION P201608 VALUES LESS THAN(TO_DATE('201609','YYYYMM')) 
,PARTITION P201609 VALUES LESS THAN(TO_DATE('201610','YYYYMM')) 
,PARTITION P201610 VALUES LESS THAN(TO_DATE('201611','YYYYMM')) 
,PARTITION P201611 VALUES LESS THAN(TO_DATE('201612','YYYYMM')) 
,PARTITION P201612 VALUES LESS THAN(TO_DATE('201701','YYYYMM')) 
,PARTITION P201701 VALUES LESS THAN(TO_DATE('201702','YYYYMM')) 
,PARTITION P201702 VALUES LESS THAN(TO_DATE('201703','YYYYMM')) 
,PARTITION P201703 VALUES LESS THAN(TO_DATE('201704','YYYYMM')) 
,PARTITION P201704 VALUES LESS THAN(TO_DATE('201705','YYYYMM')) 
,PARTITION P201705 VALUES LESS THAN(TO_DATE('201706','YYYYMM')) 
,PARTITION P201706 VALUES LESS THAN(TO_DATE('201707','YYYYMM')) 
,PARTITION P201707 VALUES LESS THAN(TO_DATE('201708','YYYYMM')) 
,PARTITION P201708 VALUES LESS THAN(TO_DATE('201709','YYYYMM')) 
,PARTITION P201709 VALUES LESS THAN(TO_DATE('201710','YYYYMM')) 
,PARTITION P201710 VALUES LESS THAN(TO_DATE('201711','YYYYMM')) 
,PARTITION P201711 VALUES LESS THAN(TO_DATE('201712','YYYYMM')) 
,PARTITION P201712 VALUES LESS THAN(TO_DATE('201801','YYYYMM')) 
,PARTITION P201801 VALUES LESS THAN(TO_DATE('201802','YYYYMM')) 
,PARTITION P201802 VALUES LESS THAN(TO_DATE('201803','YYYYMM')) 
,PARTITION P201803 VALUES LESS THAN(TO_DATE('201804','YYYYMM')) 
,PARTITION P201804 VALUES LESS THAN(TO_DATE('201805','YYYYMM')) 
,PARTITION P201805 VALUES LESS THAN(TO_DATE('201806','YYYYMM')) 
,PARTITION P201806 VALUES LESS THAN(TO_DATE('201807','YYYYMM')) 
,PARTITION P201807 VALUES LESS THAN(TO_DATE('201808','YYYYMM')) 
,PARTITION P201808 VALUES LESS THAN(TO_DATE('201809','YYYYMM')) 
,PARTITION P201809 VALUES LESS THAN(TO_DATE('201810','YYYYMM')) 
,PARTITION P201810 VALUES LESS THAN(TO_DATE('201811','YYYYMM')) 
,PARTITION P201811 VALUES LESS THAN(TO_DATE('201812','YYYYMM')) 
,PARTITION P201812 VALUES LESS THAN(TO_DATE('201901','YYYYMM')) 
,PARTITION P201901 VALUES LESS THAN(TO_DATE('201902','YYYYMM')) 
,PARTITION P201902 VALUES LESS THAN(TO_DATE('201903','YYYYMM')) 
,PARTITION P201903 VALUES LESS THAN(TO_DATE('201904','YYYYMM')) 
,PARTITION P201904 VALUES LESS THAN(TO_DATE('201905','YYYYMM')) 
,PARTITION P201905 VALUES LESS THAN(TO_DATE('201906','YYYYMM')) 
,PARTITION P201906 VALUES LESS THAN(TO_DATE('201907','YYYYMM')) 
,PARTITION P201907 VALUES LESS THAN(TO_DATE('201908','YYYYMM')) 
,PARTITION P201908 VALUES LESS THAN(TO_DATE('201909','YYYYMM')) 
,PARTITION P201909 VALUES LESS THAN(TO_DATE('201910','YYYYMM')) 
);


COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.TRADE_VOUCHER_NO IS '交易凭证号';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.TRADE_SRC_VOUCHER_NO IS '交易原始凭证号';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.ORIG_TRADE_VOUCHER_NO IS '原交易凭证号';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.BIZ_PRODUCT_CODE IS '产品编码';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.TRADE_AMOUNT IS '交易金额';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.TRADE_TYPE IS '交易类型01普通转账交易11即时到账收单交易 12担保收单交易 13下订收单交易 14收单退款交易 15合并支付交易  由交易服务自动产生，网关不用关心';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.GMT_SUBMIT IS '交易发起时间';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.BUYER_ID IS '买家客户ID';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.BUYER_NAME IS '买家客户名称';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.SELLER_ID IS '卖家客户ID';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.SELLER_NAME IS '卖家客户名称';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.SELLER_ACCOUNT_NO IS '卖家账户';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PARTNER_ID IS '平台方客户ID';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PARTNER_NAME IS '平台方客户名称';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.ACCESS_CHANNEL IS '终端类型';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.EXTENSION IS '扩展信息';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PRE_STATUS IS '前交易状态';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.STATUS IS '交易状态100申请成功
201支付成功
301结算发起成功
401结算成功
900退款初始
901退款申请成功 例银行未返回结果
951退款成功
952退款失败
998支付失败
999支付关闭';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.TRADE_MEMO IS '结果备注';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.ERROR_CODE IS '错误编码';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.ERROR_MSG IS '错误信息';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.GMT_CREATE IS '创建时间';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.GMT_MODIFIED IS '修改时间';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.IS_NOTIFIED IS '当前状态的通知情况
Y-已通知
N-未通知';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PROD_DESC IS '商品信息';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PROD_SHOW_URL IS '商品展示URL';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.RELATED_TRADE_VOUCHER_NO IS '关联交易凭证号（对应合并支付的交易）';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.PROCESSOR_ID IS '处理器ID';
COMMENT ON TABLE K_TRADE.DWD_TSS_TRADE_ORDER_D IS '交易订单';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.DW_CREATE_TIME IS 'DW 创建时间';
COMMENT ON COLUMN K_TRADE.DWD_TSS_TRADE_ORDER_D.DW_MODIFIED_TIME IS 'DW 修改时间';



 