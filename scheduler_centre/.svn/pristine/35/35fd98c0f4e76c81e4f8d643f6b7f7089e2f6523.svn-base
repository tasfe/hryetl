<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SCHE_USER" >
  <resultMap id="ScheUserResult" class="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    <result column="ID" property="id" jdbcType="INTEGER" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="MOBILE" property="mobile" jdbcType="VARCHAR" />
    <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="DATETIME" />
    <result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
    <result column="UPDATE_DATE" property="updateDate" jdbcType="DATETIME" />
    <result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
  </resultMap>
  <select id="selectByPrimaryKey" resultMap="ScheUserResult" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    select ID, EMAIL, MOBILE, USER_NAME, NAME, CREATE_DATE, CREATE_BY, UPDATE_DATE, UPDATE_BY
    from SCHE_USER
    where ID = #id:INTEGER#
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    delete from SCHE_USER
    where ID = #id:INTEGER#
  </delete>
  <insert id="insert" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    insert into SCHE_USER (ID, EMAIL, MOBILE, USER_NAME, NAME, CREATE_DATE, CREATE_BY, UPDATE_DATE,
      UPDATE_BY)
    values (#id:INTEGER#, #email:VARCHAR#, #mobile:VARCHAR#, #userName:VARCHAR#, #name:VARCHAR#,
      #createDate:DATETIME#, #createBy:VARCHAR#, #updateDate:DATETIME#, #updateBy:VARCHAR#)
  </insert>
  <update id="updateByPrimaryKey" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    update SCHE_USER
    set EMAIL = #email:VARCHAR#,
      MOBILE = #mobile:VARCHAR#,
      USER_NAME = #userName:VARCHAR#,
      NAME = #name:VARCHAR#,
      CREATE_DATE = #createDate:DATETIME#,
      CREATE_BY = #createBy:VARCHAR#,
      UPDATE_DATE = #updateDate:DATETIME#,
      UPDATE_BY = #updateBy:VARCHAR#
    where ID = #id:INTEGER#
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    update SCHE_USER
    <dynamic prepend="set" >
      <isNotNull prepend="," property="email" >
        EMAIL = #email:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="mobile" >
        MOBILE = #mobile:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="userName" >
        USER_NAME = #userName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="name" >
        NAME = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE = #createDate:DATETIME#
      </isNotNull>
      <isNotNull prepend="," property="createBy" >
        CREATE_BY = #createBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateDate" >
        UPDATE_DATE = #updateDate:DATETIME#
      </isNotNull>
      <isNotNull prepend="," property="updateBy" >
        UPDATE_BY = #updateBy:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:INTEGER#
  </update>
  
  <select id="selectList" resultMap="ScheUserResult" parameterClass="map" >
    select *
    from SCHE_USER
 	where 1 = 1
		<isNotNull prepend=" and " property="userName">
			USER_NAME = #userName#
		</isNotNull>
 	order by CREATE_DATE desc
		<isNotNull prepend="  " property="pageSize">
			<isNotNull prepend="  " property="skip">
				LIMIT #skip#,#pageSize#
			</isNotNull>
		</isNotNull>
  </select>
  
  <select id="queryUserByUserGroup" resultMap="ScheUserResult" parameterClass="int" >
    
    select u.*
    from SCHE_USER u,SCHE_USER_GROUP_MEMBER m
    where u.ID = m.SCHE_USER_ID
     and m.SCHE_USER_GROUP_ID = #value#
  </select>
  
</sqlMap>