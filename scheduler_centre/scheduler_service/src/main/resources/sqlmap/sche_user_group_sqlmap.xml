<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SCHE_USER_GROUP" >
  <resultMap id="ScheUserGroupResult" class="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    <result column="ID" property="id" jdbcType="INTEGER" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="DATETIME" />
    <result column="CREATE_BY" property="createBy" jdbcType="VARCHAR" />
    <result column="UPDATE_DATE" property="updateDate" jdbcType="DATETIME" />
    <result column="UPDATE_BY" property="updateBy" jdbcType="VARCHAR" />
    <result select="SCHE_USER_GROUP_MEMBER.selectByScheUserGroupId" column="ID"
			property="scheUserGroupMemberList" />
  </resultMap>
  <select id="selectByPrimaryKey" resultMap="ScheUserGroupResult" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    select ID, NAME, CREATE_DATE, CREATE_BY, UPDATE_DATE, UPDATE_BY
    from SCHE_USER_GROUP
    where ID = #id:INTEGER#
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    delete from SCHE_USER_GROUP
    where ID = #id:INTEGER#
  </delete>
  <insert id="insert" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    insert into SCHE_USER_GROUP (ID, NAME, CREATE_DATE, CREATE_BY, UPDATE_DATE, UPDATE_BY)
    values (#id:INTEGER#, #name:VARCHAR#, #createDate:DATETIME#, #createBy:VARCHAR#,
      #updateDate:DATETIME#, #updateBy:VARCHAR#)
  	<selectKey resultClass="int" keyProperty="id">
		select
		last_insert_id() as ID from SCHE_USER_GROUP limit 1
	</selectKey>
  </insert>
  <update id="updateByPrimaryKey" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    update SCHE_USER_GROUP
    set NAME = #name:VARCHAR#,
      CREATE_DATE = #createDate:DATETIME#,
      CREATE_BY = #createBy:VARCHAR#,
      UPDATE_DATE = #updateDate:DATETIME#,
      UPDATE_BY = #updateBy:VARCHAR#
    where ID = #id:INTEGER#
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.banggo.scheduler.dao.dataobject.ScheUserGroup" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Nov 15 14:34:17 CST 2012.
    -->
    update SCHE_USER_GROUP
    <dynamic prepend="set" >
      <isNotNull prepend="," property="name" >
        NAME = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE = #createDate:DATETIME#
      </isNotNull>
      <isNotNull prepend="," property="createBy" >
        CREATE_BY = #createBy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateDate" >
        UPDATE_DATE = #updateDate:DATETIME#
      </isNotNull>
      <isNotNull prepend="," property="updateBy" >
        UPDATE_BY = #updateBy:VARCHAR#
      </isNotNull>
    </dynamic>
    where ID = #id:INTEGER#
  </update>
  
  <select id="select" resultMap="ScheUserGroupResult" parameterClass="map" >
    select *
    from SCHE_USER_GROUP
    where 1 = 1
    
		<isNotNull prepend=" and " property="name">
			NAME like '%$name$%'
		</isNotNull>
		<isNotNull prepend=" and " property="groupName">
			NAME = #groupName#
		</isNotNull>
    
     order by CREATE_DATE desc
		 
		<isNotNull prepend="  " property="pageSize">
			<isNotNull prepend="  " property="skip">
				LIMIT #skip#,#pageSize#
			</isNotNull>
		</isNotNull>
  </select>
  
   <select id="count" resultClass="int" parameterClass="map" >
    select count(*)
    from SCHE_USER_GROUP
    where 1 = 1
    
		<isNotNull prepend=" and " property="name">
			NAME like '%$name$%'
		</isNotNull>
		<isNotNull prepend=" and " property="groupName">
			NAME = #groupName#
		</isNotNull>
  </select>
</sqlMap>